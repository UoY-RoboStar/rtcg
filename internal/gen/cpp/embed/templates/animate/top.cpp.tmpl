{{- define "system_includes" }}
#include <iostream>
{{- end -}}

{{- define "constants" }}
// no constants defined
{{- end -}}

{{- define "log" -}}std::cerr << "[{{ . }}] " << {{ end -}}
{{- define "end_log" }} << std::endl;{{- end -}}

{{- /* Calculates the message type of a channel. */ -}}
{{- define "msg_type" -}}{{ cppChannelType . }}{{- end -}}

{{- /* Calculates the C++ equivalent of a RoboStar type. */ -}}
{{- define "type" -}}{{ cppType . }}{{- end -}}

{{- /* Performs conversion from a channel type to a value type.

Receives the value type as dot.

Indent is set at 2 spaces, as this is the body of a root function. */ -}}
{{- define "convert_from" -}}
  // No conversion required:
  return msg;
{{- end -}}

{{- /* Performs conversion from a value type to a channel type.

Receives the value type as dot.

Indent is set at 2 spaces, as this is the body of a root function. */ -}}
{{- define "convert_to" -}}
  // No conversion required:
  return value;
{{- end -}}

{{- /* Placeholder for when an input is required. */ -}}
{{- define "input" }}
  // No input is actually sent to the SUT in animate mode.
{{- end }}

{{- /* Returns the argument set of a timeout callback. */ -}}
{{- define "timeout_callback_args" -}}
  {{- "" -}}{{- /* This template intentionally left blank. */ -}}
{{- end -}}

{{- /* Returns the argument set of an initial-delay callback. */ -}}
{{- define "initial_delay_callback_args" -}}
  {{- "" -}}{{- /* This template intentionally left blank. */ -}}
{{- end -}}

{{- /* Returns the argument set of an input-accepted callback. */ -}}
{{- define "in_callback_args" -}}
  {{- "" -}}{{- /* This template intentionally left blank. */ -}}
{{- end -}}

{{- /* Takes the Channel of an output callback, returns its argument set. */ -}}
{{- define "out_callback_args" -}}
  {{ template "msg_type" . }} msg
{{- end -}}

{{/*
Placed in the test driver as the body of the 'while' loop that is waiting
for results to come in from callbacks.

Should have an indent of 2, and has the state machine as dot.
*/}}
{{- define "main_body" }}

{{- end -}}

{{- define "main_args" -}}
  {{/* See https://stackoverflow.com/questions/46174445 */}}{{ "" }}
{{- end -}}

{{- template "base.cpp.tmpl" . -}}