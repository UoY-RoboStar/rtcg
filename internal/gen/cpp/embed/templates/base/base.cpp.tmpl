//
// Test {{ .Name }}
//
// Test autogenerated by rtcg on {{ .Date }}
//

#include <cstring>
#include <cstdio>
#include <string>

{{- /* Allow variants to add more system includes (such as ROS) here: */ -}}
{{- block "system_includes" . }}
{{- end -}}
{{- /* Allow the config file to add even more includes here: */ -}}
{{- range .Includes }}
#include {{ if .IsSystem -}} < {{- else -}} " {{- end -}} {{ .Src }} {{- if .IsSystem -}} > {{- else -}} " {{- end }}
{{- end }}

#include "../rtcg/rtcg.h" // Helper definitions (compile with ../rtcg/rtcg.cpp)

//
// MESSAGE TYPES
//
// For each channel, we construct a type alias to stand for the base type
// of its values, and use that alias to refer to that type throughout.
// We also create conversion functions for use in the test.
//
{{ template "ctypes.cpp.tmpl" . }}


//
// CONSTANTS
//
{{ block "constants" . }}
{{- end }}


//
// TEST VERDICTS
//
// In non-factorised tests, there will usually only be one test verdict;
// factorised tests may have multiple.
//
{{ template "verdict.cpp.tmpl" .Stm.Tests.Values }}


//
// STATES
//
// Every step in the test has a corresponding state in the test state machine.
// For non-factorised tests, these relate directly to points on the trace.
//
{{ template "state_meta.cpp.tmpl" .Stm.States }}


//
// MAIN TEST CLASS
//
// Most of the working parts of the test are here.
//
{{ template "stm.cpp.tmpl" . }}


//
// ENTRY POINT
//
{{ template "entry.cpp.tmpl" . }}
