{{/*
state.cpp.tmpl expands into the body of a state entry function.

It expects the state in question as its dot.

Base indent is set at 2, as we are inside a top-level function.
*/}}

{{- range $s, $ts := .Verdicts }}
{{-  range $ts.Tests.Values }}
  verdict.set({{ cppTestEnum . }}, {{ cppOutcomeEnum $s }});
{{-  end }}
{{- end }}
{{- if .Verdicts.IsFail }}

  end(Status::FAIL); // This state fails at least one test
{{- end -}}